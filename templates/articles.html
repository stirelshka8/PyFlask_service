{% extends 'layout.html' %}

{% block body %}
  <h1>Articles</h1>
  {% for article in articles_list.items %}
    <div class="article">
      <h2>{{ article.title }}</h2>
      <p class="article-body">{{ article.body[:150] }}{% if article.body|length > 150 %}...{% endif %}</p>
      <p class="article-info">Author: {{ article.author.username }} | Date Created: {{ article.date_created }}</p>
      <a class="read-more-link" href="{{ url_for('display_article', id=article.id) }}">Read More</a>
    </div>
  {% endfor %}

  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      {% if pagination.pages %}
        {% for page_num in pagination.pages %}
          {% if page_num %}
            <li class="page-item{% if pagination.page == page_num %} active{% endif %}">
              <a class="page-link" href="{{ url_for('articles', page=page_num) }}">{{ page_num }}</a>
            </li>
          {% else %}
            <li class="page-item disabled"><span class="page-link">...</span></li>
          {% endif %}
        {% endfor %}
      {% endif %}
    </ul>
  </nav>
{% endblock %}
